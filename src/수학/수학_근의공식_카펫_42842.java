package 수학;

import java.io.IOException;
import java.util.Arrays;

/**
 * https://school.programmers.co.kr/learn/courses/30/lessons/42842
 * 42842 / 카펫
 *
 * Leo는 카펫을 사러 갔다가 아래 그림과 같이 중앙에는 노란색으로 칠해져 있고 테두리 1줄은 갈색으로 칠해져 있는 격자 모양 카펫을 봤습니다.
 * Leo는 집으로 돌아와서 아까 본 카펫의 노란색과 갈색으로 색칠된 격자의 개수는 기억했지만, 전체 카펫의 크기는 기억하지 못했습니다.
 * Leo가 본 카펫에서 갈색 격자의 수 brown, 노란색 격자의 수 yellow가 매개변수로 주어질 때 카펫의 가로, 세로 크기를 순서대로 배열에 담아 return 하도록 solution 함수를 작성해주세요.
 */
public class 수학_근의공식_카펫_42842 {
    public static void main(String[] args) throws IOException {
        int brown = 8;
        int yellow = 1;
        System.out.println(Arrays.toString(solution(brown, yellow)));
    }

    public static int[] solution(int brown, int yellow) {
        int[] answer = {};
        // 갈색 격자의 수를 2로 나눈 후 2를 더한 값
        // 카펫의 가로와 세로 길이의 합
        int sumXY = (brown / 2) + 2;
        // 갈색 격자의 수를 2로 나눈 값에서 2를 뺀 후, 그 제곱에서 노란색 격자의 수의 4배를 뺀 값의 제곱근
        // 카펫의 가로와 세로 길이의 차
        int subXY = (int) Math.sqrt(Math.pow(2 - brown / 2.0, 2) - (4 * yellow));

        // 카펫의 가로길이
        int X = (sumXY + subXY) / 2;
        // 카펫의 세로길이
        int Y = sumXY - X;

        answer = new int[]{X, Y};

        return answer;
    }
}

/*
이번 문제는 완전탐색이라기보다는 수학 문제에 가깝다고 생각한다.
근의 공식을 이용하면 된다.
우선, 갈색 타일은 노란색 타일의 바깥 테두리 **한줄**을 이루고 있다.
이는 `전체 타일의 가로 길이 = 노란색 타일의 가로 길이 + 2`와 `전체 타일의 세로 길이 = 노란색 타일의 세로 길이 + 2`임을 뜻한다.
따라서 아래 식이 성립한다.

```
타일의 전체 넓이= 전체 타일의 가로 길이 X 전체 타일의 세로 길이= 노란색 타일의 넓이 + 갈색 타일의 넓이
```

이제는 완전한 수학 시간이다.
전체 타일의 가로 길이를 𝑋, 세로 길이를 𝑌라고 두면,
𝑋 × 𝑌 = 𝑏𝑟𝑜𝑤𝑛 + 𝑦𝑒𝑙𝑙𝑜𝑤
(𝑋 − 2)(𝑌 − 2) = 𝑦𝑒𝑙𝑙𝑜𝑤
이므로,
𝑋+𝑌 = 2 + 1/2 × 𝑏𝑟𝑜𝑤𝑛
이다.
(𝑋−𝑌)^2 = (𝑋+𝑌)^2 − 4𝑋𝑌임을 이용하면, X, Y를 모두 구할 수 있다.
갈색 격자는 카펫의 테두리를 형성하고, 노란색 격자는 내부를 채웁니다. 문제의 핵심은 적절한 가로(**`X`**)와 세로(**`Y`**) 길이를 찾아내는 것입니다.

**변수 설명:**

- **`brown`**: 카펫의 테두리를 이루는 갈색 격자의 수입니다.
- **`yellow`**: 카펫의 중앙을 채우는 노란색 격자의 수입니다.
- **`sumXY`**: 카펫의 가로와 세로 길이의 합입니다.
- **`subXY`**: 카펫의 가로와 세로 길이의 차입니다.
- **`X`**: 카펫의 가로 길이입니다.
- **`Y`**: 카펫의 세로 길이입니다.

**수학적 접근:**

- 카펫의 가로 길이와 세로 길이의 합(**`sumXY`**)은 갈색 격자의 수를 2로 나눈 값에 2를 더한 값입니다. 이는 카펫의 테두리를 한 바퀴 도는 데 필요한 격자 수와 같습니다.
- 카펫의 가로 길이와 세로 길이의 차(**`subXY`**)는 노란색 격자 수를 이용하여 계산됩니다. 이 값은 카펫의 가로 길이에서 세로 길이를 뺀 값의 절대값과 같습니다.
- **`sumXY`**를 계산하는 과정은 간단합니다. 갈색 격자 수의 절반에 2를 더합니다.
- **`subXY`**를 계산할 때는 먼저 **`sumXY/2.0 - 2`**를 계산하고, 이 값을 제곱합니다. 그런 다음 노란색 격자 수의 4배를 뺀 후, 이 값의 제곱근을 구합니다.
- **`X`**는 **`sumXY`**와 **`subXY`**를 더한 값의 절반입니다.
- **`Y`**는 **`sumXY`**에서 **`X`**를 뺀 값입니다.

이러한 계산을 통해 카펫의 가로와 세로 길이를 찾을 수 있습니다. 이 코드는 카펫의 격자 수를 기반으로 실제 카펫의 크기를 찾는 데 사용됩니다.
 */